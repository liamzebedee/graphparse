<!DOCTYPE html>
<html>
<head>
	<title>parsegraph</title>
	<meta charset="utf-8">
</head>

<body>
	<script src="www/d3.v4.min.js"></script>
	<script src="www/viz-lite.js"></script>
	<script src="www/d3-graphviz.min.js"></script>

	<style>
		body {
			overflow: hidden;
		}
		#graph {
			text-align: center;
			display: flex;
			width: 100vw;
			height: 100vh;
		}
	</style>
	<div id="graph"></div>
	<script>

document.addEventListener('DOMContentLoaded', () => {

	fetch('./graph.dot').then((response) => {
		if (response.status !== 200) {
			console.error(response.status, response)
		} else {
			return response.text()
		}
	}).then(data => {
		let g = d3.select("#graph");

		g.graphviz().renderDot(data).totalMemory(16777216 * 2) // 32mb memory
		g.attr('width', '100%').attr('height', '100%')
	})

});
	</script>
</body>
</html>